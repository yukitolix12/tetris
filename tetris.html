<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="can"></canvas>
    <script>
        //ブロック一つのサイズ(ピクセル)
        const BLOCK_SIZE = 30;
        //テトロミノのサイズ
        const TETRO_SIZE = 4;

        let can = document.getElementById("can");
        let con = can.getContext("2d");
        
    
        let tetro = [
            [ 0, 0, 0, 0 ],
            [ 1, 1, 0, 0 ],
            [ 0, 1, 1, 0 ],
            [ 0, 0, 0, 0 ]
        ];
        //テトロミノの座標
        let tetro_x = 0;
        let tetro_y = 0;

        drawTetro();

        //テトロミノを表示する
        function drawTetro()
        {
            for(let y=0; y<TETRO_SIZE ; y++ )
            {
                for(let x=0; x<TETRO_SIZE ; x++ )
                {
                    if( tetro[y][x] )
                    {
                        let px = (tetro_x + x) * BLOCK_SIZE;
                        let py = (tetro_y + y) * BLOCK_SIZE;

                        con.fillStyle="red";
                        con.fillRect(px,py, BLOCK_SIZE,BLOCK_SIZE );
                        con.strokeStyle="black";
                        con.strokeRect(px,py, BLOCK_SIZE,BLOCK_SIZE );
                    }
                }
            }
        }

        document.onkeydown = function(e)
        {
            //onkeydown keycode 検索

            switch( e.keyCode )
            {
                case 37: //左
                    tetro_x--;
                    break;
                case 38: //上
                    tetro_y--;
                    break;
                case 39: //右
                    tetro_x++;
                    break;
                case 40: //下
                    tetro_y++;
                    break;
                case 32: //スペース
                    break;
            }

            drawTetro();
        }

    </script>
</body>
</html>